{% extends "base.html" %}

{% block content %}
  <div class="container mt-5">
    <h1 class="mb-4">Welcome</h1>

    <!-- Login Form -->
    <div id="login-form">
      <h3>Login</h3>
      <form method="post" action="{% url 'login' %}">
        {% csrf_token %}
        {% for field in login_form %}
          <div class="mb-3">
            {{ field.label_tag }}
            {{ field }}
            {% if field.errors %}
              <div class="text-danger">{{ field.errors }}</div>
            {% endif %}
          </div>
        {% endfor %}
        <button type="submit" class="btn btn-primary">Login</button>
      </form>
      <p class="mt-3">
        Don't have an account?
        <a href="#" id="show-signup">Sign up here</a>
      </p>
    </div>

    <!-- Sign Up Form (hidden by default) -->
    <div id="signup-form" class="d-none">
      <h3>Sign Up</h3>
      <form method="post" action="{% url 'signup' %}">
        {% csrf_token %}
        {% for field in signup_form %}
          <div class="mb-3">
            {{ field.label_tag }}
            {{ field }}
            {% if field.errors %}
              <div class="text-danger">{{ field.errors }}</div>
            {% endif %}
          </div>
        {% endfor %}
        <button type="submit" class="btn btn-secondary">Sign Up</button>
      </form>
      <p class="mt-3">
        Already have an account?
        <a href="#" id="show-login">Login here</a>
      </p>
    </div>
  </div>

  <script>
    const showSignupLink = document.getElementById('show-signup');
    const showLoginLink = document.getElementById('show-login');
    const loginForm = document.getElementById('login-form');
    const signupForm = document.getElementById('signup-form');

    showSignupLink.addEventListener('click', (e) => {
      e.preventDefault();
      loginForm.classList.add('d-none');
      signupForm.classList.remove('d-none');
    });

    showLoginLink.addEventListener('click', (e) => {
      e.preventDefault();
      signupForm.classList.add('d-none');
      loginForm.classList.remove('d-none');
    });
  </script>
{% endblock %}
